<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="canonical" href="https://noresmhub.github.io/NorESM_LandSites_Platform/user_guide/">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>User guide - NorESM_LandSites_Platform documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  <link href="../stylesheets/map.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "User guide";
    var mkdocs_page_input_path = "user_guide.md";
    var mkdocs_page_url = "/NorESM_LandSites_Platform/user_guide/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> NorESM_LandSites_Platform documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../land-sites/">NorESM land sites</a>
                    </li>
                </ul>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">User guide</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#tldr-quick-start">TL;DR quick start 🏃‍♀️🏃‍♂️</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#step-by-step-guide-for-using-the-platform">Step by step guide for using the platform</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#0-prerequisites-first-time-setup">0. Prerequisites (first time setup) 🌱</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#1-start-the-container">1. Start the container 🧰</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#2-inside-gui-set-simulation-settings">2. Inside GUI: Set simulation settings ⚙️</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#21-download-site-data-button">2.1 Download site data button</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#22-create-case-button">2.2 Create case button</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#3-run-your-simulations">3. Run your simulations 👩‍💻</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#4-look-at-your-output">4. Look at your output 📈</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#5-close-the-container">5. Close the container</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../about/">About</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../contributing/">Contributing & code of conduct</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">NorESM_LandSites_Platform documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>User guide</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="user-guide">User guide</h1>
<p>🚧 <em>under construction - please help us by reporting errors and questions on our <a href="https://github.com/NorESMhub/NorESM_LandSites_Platform/issues/new">issues page</a></em></p>
<p>This is the user guide for running point simulations with the <a href="https://noresmhub.github.io/NorESM_LandSites_Platform/">NorESM LandSites Platform</a> 🌍</p>
<p>You will need to open two new windows in the process, so it's a good idea to use two screens or to make this window narrower so you can see both the user guide and another window next to it.</p>
<hr />
<h2 id="tldr-quick-start">TL;DR quick start 🏃‍♀️🏃‍♂️</h2>
<p>go to repository and start the Docker container: </p>
<pre><code>$ cd NorESM_LandSites_platform 
$ docker-compose up
</code></pre>
<p>go to container GUI: <a href="http://localhost:8080">localhost:8080</a> and push buttons</p>
<p>access jypyter notebooks on <a href="http://localhost:8888">localhost:8888</a> 🎉</p>
<hr />
<h2 id="step-by-step-guide-for-using-the-platform">Step by step guide for using the platform</h2>
<h3 id="0-prerequisites-first-time-setup">0. Prerequisites (first time setup) 🌱</h3>
<p>To use the NorESM LandSites Platform, you need to install </p>
<ul>
<li><a href="https://git-scm.com/downloads" title="click the pc screen button if you are on Windows">Git</a> (and make a user account) and</li>
<li><a href="https://www.docker.com/products/docker-desktop">Docker desktop</a> </li>
</ul>
<p>before you can clone the <a href="https://github.com/NorESMhub/NorESM_LandSites_Platform" title="repository for the NorESM LandSites platform">repository</a> (= download platform scripts) and start working with the Docker container. If you don't want to make a GitHub account, you may try to download and unpack the repository manually instead with the <code>code</code> button and ´download zip´.</p>
<p>Open file explorer and find a suitable folder to serve as working directory. This is where you will store the repository and installation files needed by the platform, as well as your output files (which may take up quite a bit of space!). Your working directory should be somewhere on your C: drive, for instance <code>C:/Users/yourusername</code>.</p>
<p>When you are in your chosen working directory, right-click and choose "Git Bash here". In the terminal that pops up, paste in the following line by right-clicking:</p>
<pre><code>$ git clone https://github.com/NorESMhub/NorESM_LandSites_Platform.git
</code></pre>
<p>This will download (= clone) the repository (= folder structure and files) to your working directory. You can now see the folder and files in your file explorer. Most of the files can be opened in a text editor like Notepad if you want to look at their contents.</p>
<p>Once Git, Docker desktop and the repository are in place, you don't have to do this again. If the platform has been updated the next time you want to use it, you might want to download the updates by typing <code>git pull</code> into Git Bash from your local clone of the repository. </p>
<h3 id="1-start-the-container">1. Start the container 🧰</h3>
<p>In the working directory where you have cloned the repository, open a terminal by right-clicking and choosing "Git Bash here" (or use the one you already have open if you just did the first time setup). Make sure you are in the folder containing the <code>docker-compose.yml</code> file (type <code>ls</code> and hit enter to list the files in the current folder; if you see NorESM_LandSites_Platform, you need to change directory by typing ´cd NorESM_LandSites_Platform´). Then write this command and hit enter to get the container up and running:</p>
<pre><code>$ docker-compose up
</code></pre>
<p>The first time you execute this, a lot of files will be downloaded. When the container is up and running, you will get the following address to access the container through your browser: <a href="http://localhost:8080">localhost:8080</a></p>
<h3 id="2-inside-gui-set-simulation-settings">2. Inside GUI: Set simulation settings ⚙️</h3>
<p>You should now be looking at the graphical user interface (=GUI, at <a href="http://localhost:8080">localhost:8080</a>) for setting up and running simulations. This interface has access to the Docker container you started in step 1.</p>
<p>(If you are doing a quick test with <a href="https://noresmhub.github.io/NorESM_LandSites_Platform/#settings-file">default platform settings</a>, just pick a site and click  ´create case´ and then ´run´.)</p>
<h4 id="21-download-site-data-button">2.1 Download site data button</h4>
<p>The ´download site data´ button gives you the input data for your selected site. We provide a notebook called ´input_visualization.ipynb´ which you can open in Jupyterlab on <a href="localhost:8888">localhost:8888</a> to explore some of the data that goes in to a simulation. This is a good thing to do while your case is running (which might take some time).</p>
<h4 id="22-create-case-button">2.2 Create case button</h4>
<p>With the ´create case´ button, you can look at and edit some model settings and parameters as you create a new case. This is not an exhaustive list of possible changes (by far), but give you easy access to some options. All the boxes have default values for a quick but not especially realistic simulation.</p>
<p>The box that pops up with settings has four tabs:</p>
<ul>
<li><strong>CTSM</strong> (=Community Terrestrial Systems Model) settings for general options like simulation period</li>
<li><strong>CLM / Namelist</strong> settings where you can change CO2 concentration, switch some modules of/off.</li>
<li><strong>CLM / Namelist / history</strong> settings where advanced users can set how and when the simulation output is stored.</li>
<li><strong>FATES</strong> parameters where you can disable some Plant Functional Types (PFTs) and change some vegetation parameters.</li>
</ul>
<p>Once you have created your case with the desired settings, it will appear in a list of cases with the case ID, status, creation date, grid information, component set, a link to view the settings you specified, and some buttons with more options. Pay attention to the Status, which will transition from pending to ready when the case has been built. </p>
<h3 id="3-run-your-simulations">3. Run your simulations 👩‍💻</h3>
<p>Once the case is ready, you can start the simulation with ´run´. There is a button to ´download´ the output when the run is finished, and to ´edit´ the settings and create a new case, or ´delete´ the case. Depending of how long you asked the model to run for (default is 1 year), and your hardware, the simulation can take some time ⏳. On a regular laptop, one year of simulation of a single site (= gridcell) might take ~5-20 minutes. Make sure your computer is not running other heavy programs simultaneously (like GIS, Photoshop or 1000 open browser tabs 👀). The Docker container you started in step 1 is performing the simulation using your local computer. Advanced users may also use the container on an HPC cluster to speed up long simulations.</p>
<blockquote>
<p>While you wait for the simulation to finish, you may like to inspect the model input data more closely. Open a new browser tab and go to the Docker container at <a href="http://localhost:8888">localhost:8888</a>. Navigate to the ´notebooks´ folder and open the ´input_visualization.ipynb´ notebook. It will guide you through some of the input data for the model. </p>
</blockquote>
<p>Soon your simulations will be finished! 🎉 </p>
<p>If you got an error message somewhere along the way, please head over to our GitHub and write an <a href="https://github.com/NorESMhub/NorESM_LandSites_Platform/issues/new">issue</a> describing what happened, what machine you are on (mac/windows/HPC etc.), and copy in the error message and any other relevant information. </p>
<p>Output will be stored at time intervals you set (default is monthly), and can be downloaded from the container with the ´download´ button or viewed in the <code>data/output</code> folder in the container. </p>
<h3 id="4-look-at-your-output">4. Look at your output 📈</h3>
<p>Output is stored in the <code>data/output</code> folder in the container, accessed on <a href="http://localhost:8888">localhost:8888</a>.</p>
<p>Nagivate to the ´notebooks´ folder and open the ´output_visualization.ipynb´ notebook. It guides you through some ways of looking at the model output, though there are many other ways to do this and much more model output available!</p>
<p><a href="https://noresmhub.github.io/NorESM_LandSites_Platform/#postprocess">Output files</a> can alternatively be opened in Panoply, R, or using python on your local computer.</p>
<h3 id="5-close-the-container">5. Close the container</h3>
<p>NB! The container will continue to run unless you stop it. When you are finished with simulations and output processing and downloading things you might need offline, go back to your Git Bash terminal and press ´Ctrl+c´.</p>
<pre><code>🌲 ____ 🌳 ____ 🌲 ____ 🌳 ____ 🌲 ____ 🌳 ____ 🌲 ____ 🌳 ____ 🌲
</code></pre>
<hr />
<p><a href="https://www.noresm.org/"><img alt="NorESM logo" src="https://tinyimg.io/i/9AdhM6J.png" title="the Norwegian Earth System Model" /></a>
<a href="https://www.mn.uio.no/geo/english/research/projects/emerald/"><img alt="EMERALD logo" src="https://tinyimg.io/i/O6Vkl1F.png" title="EMERALD project" /></a>
<a href="https://www.mn.uio.no/geo/english/research/groups/latice/"><img alt="LATICE logo" src="https://tinyimg.io/i/4IM1ogh.png" title="Land-ATmosphere Interactions in Cold Environments research group" /></a></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../about/" class="btn btn-neutral float-right" title="About">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../land-sites/" class="btn btn-neutral" title="NorESM land sites"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../land-sites/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../about/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../javascripts/map.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
